<div class="container">
  <div class="header">Profiles</div>
  <div class="search-container">
    <div class="search-input-container">
      <mat-icon class="input-icon secondary">search</mat-icon>
      <input
        class="search-input"
        type="search"
        placeholder="search profiles"
        [(ngModel)]="searchValue"
      />
    </div>
    <button class="search-action" type="button" (click)="onFilter()">
      <mat-icon>search</mat-icon>
    </button>
  </div>
  <div class="content">
    <div class="main-card">
      <div class="table-container">
        <div [hidden]="!dataSource || dataSource.data.length == 0">
          <table mat-table [dataSource]="dataSource" matSort>
            <!-- Image Column -->
            <ng-container matColumnDef="photo">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                <mat-icon>swap_horiz</mat-icon>
              </th>
              <td mat-cell *matCellDef="let element">
                <img class="image-cell" [src]="element.photo" />
              </td>
            </ng-container>

            <!-- Local ID Column -->
            <ng-container matColumnDef="localid">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Local ID
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element.localid | number }}
              </td>
            </ng-container>

            <!-- Email Address Column -->
            <ng-container matColumnDef="email">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Email Address
              </th>
              <td mat-cell *matCellDef="let element">{{ element.email }}</td>
            </ng-container>

            <!-- FullName Column -->
            <ng-container matColumnDef="fullName">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>name</th>
              <td mat-cell *matCellDef="let element">{{ element.fullName }}</td>
            </ng-container>

            <!-- Phone Number Column -->
            <ng-container matColumnDef="phone">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Phone Number
              </th>
              <td mat-cell *matCellDef="let element">{{ element.phone }}</td>
            </ng-container>

            <!-- Address Column -->
            <ng-container matColumnDef="address">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>Address</th>
              <td mat-cell *matCellDef="let element">{{ element.address }}</td>
            </ng-container>

            <!-- Modified Date Column -->
            <ng-container matColumnDef="modified">
              <th mat-header-cell *matHeaderCellDef mat-sort-header>
                Modified
              </th>
              <td mat-cell *matCellDef="let element">
                {{ element.modified | date: "yyyy-MM-dd" }}
              </td>
            </ng-container>

            <!-- View Profile Details Column -->
            <ng-container matColumnDef="view">
              <th class="text-align-end" mat-header-cell *matHeaderCellDef>View</th>
              <td class="text-align-end" mat-cell *matCellDef="let element">
                <button mat-button type="button" (click)="onOpenDetailsPage(element)" >
                  <mat-icon class="secondary">arrow_forward_ios</mat-icon>
                </button>
              </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
            <tr class="mat-row no-data-msg" *matNoDataRow>
              <td class="mat-cell" [attr.colspan]="displayedColumns.length">
                No profile with this filter found
              </td>
            </tr>
          </table>
        </div>
        <mat-paginator [pageSizeOptions]="[5, 10, 20, 50, 100, 200]" showFirstLastButtons >
        </mat-paginator>
      </div>
    </div>
  </div>
</div>
